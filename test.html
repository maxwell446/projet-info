<form method="POST" action="/saisie_scores_match">
    {# Boucle sur chaque match dans le calendrier #}
    {% for match in calendrier %}
    <hr class="separator"> {# Ligne de séparation pour chaque match #}

    <h3>Journée {{ match.journee }}</h3> {# Affiche le numéro de la journée pour le match #}

    <div class="score-entry">
        {# Bloc pour la première équipe #}
        <div class="score-input-group">
            <label for="points_equipe1_{{ match.idMatch }}">{{ match.equipe1_nom }}</label>
            {% if match.score1 is not none %}
                {# Si le score 1 existe, l'afficher en texte #}
                <p class="display-score">{{ match.score1 }}</p>
            {% else %}
                {# Sinon, afficher le champ de saisie #}
                <input type="number" 
                       id="points_equipe1_{{ match.idMatch }}" 
                       name="score_{{ match.idMatch }}_equipe1" 
                       value="0" 
                       min="0" 
                       required>
                <input type="hidden" name="match_id_{{ loop.index }}" value="{{ match.idMatch }}">
                <input type="hidden" name="equipe1_id_{{ loop.index }}" value="{{ match.equipe1_id }}">
            {% endif %}
        </div>

        <div class="divider"></div>

        {# Bloc pour la deuxième équipe #}
        <div class="score-input-group">
            <label for="points_equipe2_{{ match.idMatch }}">{{ match.equipe2_nom }}</label>
            {% if match.score2 is not none %}
                {# Si le score 2 existe, l'afficher en texte #}
                <p class="display-score">{{ match.score2 }}</p>
            {% else %}
                {# Sinon, afficher le champ de saisie #}
                <input type="number" 
                       id="points_equipe2_{{ match.idMatch }}" 
                       name="score_{{ match.idMatch }}_equipe2" 
                       value="0" 
                       min="0" 
                       required>
                <input type="hidden" name="equipe2_id_{{ loop.index }}" value="{{ match.equipe2_id }}">
            {% endif %}
        </div>
    </div>
    {% endfor %}

    {# Le bouton de soumission n'est affiché que si au moins un score est manquant #}
    {% if not tous_scores_entres %}
        <button type="submit" class="button-ok">Valider les scores</button>
    {% endif %}
</form>
